====================================================
LGH PROFIT CALCULATOR - TEST PLAN v2
====================================================
Test Date: 2026-01-26
Recent Changes: LGH.119 (Buyer field), LGH.120 (Scraper→Buyer), LGH.123 (GURL duplicate fix)
Scope: Local + GitHub Pages + Mobile

====================================================
CRITICAL TESTS - MUST PASS BEFORE PUBLISH
====================================================

====================================================
TEST 1: GURL No-Duplicate Save (LGH.123 FIX)
====================================================
Scope: Both (Local and GitHub). Mobile: High importance.
Action:
1. Clear all memory (DD button if needed)
2. Paste URL: https://example.com/test1
3. Click GURL button ONCE
4. Check counter

Expected:
- Counter shows 1/1 (NOT 2/2)
- URL field is cleared
- No scraping occurs

Result: [ ] Pass  [ ] Fail
Notes: ______________________________________________
GitHub: [ ] Pass  [ ] Fail
Mobile: [ ] Pass  [ ] Fail


====================================================
TEST 2: Delete to Empty State (0/0)
====================================================
Scope: Both. Mobile: Medium importance.
Action:
1. Add 1 URL via GURL
2. Press D1 to delete
3. Check counter

Expected:
- Counter shows 0/0
- URL field empty
- No errors

Result: [ ] Pass  [ ] Fail
Notes: ______________________________________________
GitHub: [ ] Pass  [ ] Fail
Mobile: [ ] Pass  [ ] Fail


====================================================
TEST 3: Scraper → Buyer Purchase Field (LGH.120)
====================================================
Scope: Both. Mobile: Medium importance.
Action:
1. Add a Swedish broker URL (e.g., Hemnet listing)
2. Click :) button
3. Check which field updates

Expected:
- "Inköpspris (kr)" updates with price (if scrape succeeds)
- "Försäljningspris (kr)" remains UNCHANGED
- If CORS blocks or no price: status shows "Not Loaded"

Result: [ ] Pass  [ ] Fail
Notes: ______________________________________________
GitHub: [ ] Pass  [ ] Fail
Mobile: [ ] Pass  [ ] Fail


====================================================
TEST 4: Buyer Purchase Field Persistence
====================================================
Scope: Both. Mobile: Low importance.
Action:
1. Enter value in "Inköpspris (kr)" field (e.g., 3500000)
2. Press F5 to refresh page
3. Check if value restored

Expected:
- Value persists after refresh
- Language toggle updates label (SV/EN)

Result: [ ] Pass  [ ] Fail
Notes: ______________________________________________
GitHub: [ ] Pass  [ ] Fail


====================================================
TEST 5: Navigation << >> with Multiple URLs
====================================================
Scope: Both. Mobile: High importance.
Action:
1. Add 3 URLs via GURL: test1, test2, test3
2. Use >> to navigate to 2/3, then 3/3
3. Use << to go back to 2/3, then 1/3

Expected:
- Counter updates correctly at each step
- URL field shows correct URL for each position
- Navigation wraps (>> at 3/3 goes to 1/1, << at 1/1 goes to 3/3)

Result: [ ] Pass  [ ] Fail
Notes: ______________________________________________
GitHub: [ ] Pass  [ ] Fail
Mobile: [ ] Pass  [ ] Fail


====================================================
TEST 6: Delete All (DD) with Confirmation
====================================================
Scope: Both. Mobile: Medium importance.
Action:
1. Add 2-3 URLs
2. Click DD button
3. Click OK in confirmation

Expected:
- Confirmation dialog appears (Swedish or English based on language)
- All URLs deleted
- Counter shows 0/0
- URL field empty

Result: [ ] Pass  [ ] Fail
Notes: ______________________________________________
GitHub: [ ] Pass  [ ] Fail


====================================================
TEST 7: "Not Loaded" Status Message (LGH.112)
====================================================
Scope: Both. Mobile: Medium importance.
Action:
1. Enter malformed URL (e.g., "abc123")
2. Click GURL
3. Check status message

Expected:
- Status shows "Not Loaded" (language-independent)
- NOT "Hittade inget pris. Ange manuellt."

Result: [ ] Pass  [ ] Fail
Notes: ______________________________________________
GitHub: [ ] Pass  [ ] Fail


====================================================
TEST 8: Mobile Responsive Layout
====================================================
Scope: GitHub Pages primarily. Mobile: Critical.
Action:
1. Open on actual mobile device OR
2. Press F12 → Device toolbar (Ctrl+Shift+M) → iPhone 12

Expected:
- URL field + buttons wrap neatly (no overflow)
- All buttons remain clickable
- Counter visible
- No horizontal scrolling
- Text readable

Result: [ ] Pass  [ ] Fail
Notes: ______________________________________________
GitHub: [ ] Pass  [ ] Fail
Mobile Device: ______________________________________________


====================================================
REFERENCE TESTS - KNOWN WORKING (KEEP FOR REGRESSION)
====================================================

====================================================
REF-1: Language Toggle SV/EN
====================================================
Action:
- Click EN button, then SV button

Expected:
- Title toggles: "Kalkylator Försäljning LGH" ↔ "Apartment Sales Profit Calculator"
- "Köp Obj" ↔ "Sales Objects"
- "Inköpspris (kr)" ↔ "Buyer Purchase (kr)" [verify exact EN text]
- GURL button STAYS "GURL" (unchanged)

Result: [ ] Pass  [ ] Fail


====================================================
REF-2: Calculator Functionality
====================================================
Action:
1. Enter test values in calculator fields
2. Check that results update automatically

Expected:
- No console errors (F12)
- Results fields calculate correctly
- No dependency on "Inköpspris (kr)" yet (not in formulas)

Result: [ ] Pass  [ ] Fail


====================================================
REF-3: Tooltips on Hover
====================================================
Action:
- Hover over each Sales Objects button

Expected Tooltips (SV mode):
- GURL: "Ladda URL"
- <<: "Föregående"
- >: "Öppna"
- >>: "Nästa"
- :): "Skrapa pris"
- D1: "Radera aktuell"
- DD: "Radera alla"

Result: [ ] Pass  [ ] Fail


====================================================
GITHUB PAGES SPECIFIC CHECKS
====================================================

1. [ ] Hard refresh (Ctrl+F5) to clear cache before testing
2. [ ] Test initialization: page loads with correct counter (0/0 or saved state)
3. [ ] localStorage works across sessions on GitHub domain
4. [ ] CORS: Scraper may fail more often on GitHub (cross-origin restrictions)
5. [ ] Mobile viewport: Test on actual device if possible


====================================================
TEST SUMMARY
====================================================

Date: _________________
Browser: _________________
OS: _________________

Critical Tests (1-8):
- Passed: ____
- Failed: ____

Reference Tests:
- Passed: ____
- Failed: ____

GitHub-Specific:
- Passed: ____
- Failed: ____

Mobile Testing:
- Device: _________________
- Overall: [ ] Pass  [ ] Fail

Critical Issues Found:
_______________________________________________________
_______________________________________________________

Non-Critical Issues:
_______________________________________________________
_______________________________________________________

Ready to Publish: [ ] YES  [ ] NO

====================================================
END OF TEST PLAN
====================================================
